import Object = require('nashorn/java/lang/Object');
import Processor = require('nashorn/com/intellij/util/Processor');
import List = require('nashorn/java/util/List');

declare class AddonlyKeylessHash<K, V> extends Object {
	constructor(arg1 : AddonlyKeylessHash.KeyValueMapper<K, V>);
	constructor(arg1 : number, arg2 : AddonlyKeylessHash.KeyValueMapper<K, V>);
	size() : number;
	add(arg1 : V) : void;
	doPut(arg1 : Object[], arg2 : V) : V;
	hashIndex(arg1 : Object[], arg2 : K) : number;
	forEach(arg1 : Processor<V>) : boolean;
	rehash() : void;
	get(arg1 : K) : V;
	toValueList() : List<V>;
}


declare module AddonlyKeylessHash {
	class KeyValueMapper<K, V> extends Object {
		constructor();
		hash(arg1 : K) : number;
		key(arg1 : V) : K;
		valueHasKey(arg1 : V, arg2 : K) : boolean;
		isIdentity() : boolean;
	}
}

export = AddonlyKeylessHash
