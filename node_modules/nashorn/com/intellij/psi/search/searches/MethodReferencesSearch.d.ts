import ExtensionPointName = require('nashorn/com/intellij/openapi/extensions/ExtensionPointName');
import QueryExecutor = require('nashorn/com/intellij/util/QueryExecutor');
import PsiMethod = require('nashorn/com/intellij/psi/PsiMethod');
import SearchScope = require('nashorn/com/intellij/psi/search/SearchScope');
import Query = require('nashorn/com/intellij/util/Query');
import PsiReference = require('nashorn/com/intellij/psi/PsiReference');
import SearchRequestCollector = require('nashorn/com/intellij/psi/search/SearchRequestCollector');
import Processor = require('nashorn/com/intellij/util/Processor');
import PairProcessor = require('nashorn/com/intellij/util/PairProcessor');
import UniqueResultsQuery = require('nashorn/com/intellij/util/UniqueResultsQuery');
import ReferenceDescriptor = require('nashorn/com/intellij/psi/search/searches/ReferenceDescriptor');
import ExtensibleQueryFactory = require('nashorn/com/intellij/psi/search/searches/ExtensibleQueryFactory');
import Object = require('nashorn/java/lang/Object');

declare class MethodReferencesSearch {
	static EP_NAME : ExtensionPointName<QueryExecutor>;
	static INSTANCE : MethodReferencesSearch;
	static search(arg1 : PsiMethod, arg2 : SearchScope, arg3 : boolean) : Query<PsiReference>;
	static searchOptimized(arg1 : PsiMethod, arg2 : SearchScope, arg3 : boolean, arg4 : SearchRequestCollector, arg5 : Processor<PsiReference>) : void;
	static searchOptimized(arg1 : PsiMethod, arg2 : SearchScope, arg3 : boolean, arg4 : SearchRequestCollector, arg5 : boolean, arg6 : PairProcessor<PsiReference, SearchRequestCollector>) : void;
	static search(arg1 : MethodReferencesSearch.SearchParameters) : Query<PsiReference>;
	static search(arg1 : PsiMethod, arg2 : boolean) : Query<PsiReference>;
	static search(arg1 : PsiMethod) : Query<PsiReference>;
	static uniqueResults(arg1 : Query<PsiReference>) : UniqueResultsQuery<PsiReference, ReferenceDescriptor>;
}


declare interface MethodReferencesSearch extends ExtensibleQueryFactory<PsiReference, MethodReferencesSearch.SearchParameters> {}

declare module MethodReferencesSearch {
	class SearchParameters extends Object {
		method : PsiMethod;
		strictSignatureSearch : boolean;
		optimizer : SearchRequestCollector;
		scopeDeterminedByUser : SearchScope;
		scope : SearchScope;
		effectiveSearchScope : SearchScope;
		constructor(arg1 : PsiMethod, arg2 : SearchScope, arg3 : boolean, arg4 : SearchRequestCollector);
		constructor(arg1 : PsiMethod, arg2 : SearchScope, arg3 : boolean);
		getMethod() : PsiMethod;
		isStrictSignatureSearch() : boolean;
		getOptimizer() : SearchRequestCollector;
		getScopeDeterminedByUser() : SearchScope;
		getScope() : SearchScope;
		getEffectiveSearchScope() : SearchScope;
	}
}

export = MethodReferencesSearch
