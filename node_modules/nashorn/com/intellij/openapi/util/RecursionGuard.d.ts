import Object = require('nashorn/java/lang/Object');
import Computable = require('nashorn/com/intellij/openapi/util/Computable');
import List = require('nashorn/java/util/List');

declare class RecursionGuard extends Object {
	constructor();
	doPreventingRecursion<T>(arg1 : Object, arg2 : Computable<T>) : T;
	doPreventingRecursion<T>(arg1 : Object, arg2 : boolean, arg3 : Computable<T>) : T;
	markStack() : RecursionGuard.StackStamp;
	currentStack() : List<Object>;
	prohibitResultCaching(arg1 : Object) : void;
}


declare module RecursionGuard {
	class StackStamp extends Object {
		mayCacheNow() : boolean;
	}
}

export = RecursionGuard
